---
export interface Props {
	backToTop?: boolean;
}

const { backToTop = false } = Astro.props;

const navigationLinks = [
	{ name: "Apps", url: "/apps" },
	{ name: "Blog", url: "/blog" },
];

const legalLinks = [
	{ name: "Politique de confidentialit√©", url: "/confidentialite" },
	{ name: "Mentions l√©gales", url: "/mentions-legales" },
	{ name: "CGU", url: "/cgu" },
];

const socialLinks = [
	{ name: "YouTube", url: "https://www.youtube.com/@webindefr" },
	{ name: "X (Twitter)", url: "https://x.com/webindefr" },
	{ name: "Instagram", url: "https://www.instagram.com/webindefr" },
	{ name: "LinkedIn", url: "https://www.linkedin.com/company/webindefr" },
	{ name: "Facebook", url: "https://www.facebook.com/dianewebinde/" },
];

const currentYear = new Date().getFullYear();
---

{
	backToTop && (
		<button
			class:list={[
				backToTop ? `backToTop` : null,
				"transition-300 z-50 opacity-0 fixed flex bottom-[10px] right-[30px] w-10 h-10 bg-white dark:bg-black border-3 border-black dark:border-yellow-soft card-shadow items-center justify-center",
			]}
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				fill="none"
				viewBox="0 0 24 24"
				height="24"
				width="24"
				stroke-width="2"
				stroke="currentColor"
				class="dark:text-yellow-soft"
			>
				<path
					stroke-linecap="round"
					stroke-linejoin="round"
					d="m4.5 15.75 7.5-7.5 7.5 7.5"
				/>
			</svg>
		</button>
	)
}

<footer class="bg-white dark:bg-black text-black dark:text-white border-t-4 border-black dark:border-yellow-soft">
	<div class="max-w-6xl mx-auto px-6 py-12">
		<!-- Top section -->
		<div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-8">
			<!-- Brand -->
			<div class="col-span-2">
				<h2 class="righteous text-3xl mb-4 text-black dark:text-yellow-soft">Web'Ind√©</h2>
				<p class="poppins text-lg mb-4 text-black dark:text-white">
					Le guide de survie digital pour entrepreneurs francophones qui refusent d'enrichir la Silicon Valley.
				</p>
				<p class="poppins text-sm text-black dark:text-white">
					üá´üá∑ Made in France avec ‚ù§Ô∏è
				</p>
			</div>

			<!-- Navigation -->
			<div>
				<h3 class="poppins font-bold text-lg mb-4 text-black dark:text-yellow-soft">Navigation</h3>
				<ul class="space-y-2">
					{navigationLinks.map((link) => (
						<li>
							<a
								href={link.url}
								class="poppins text-black dark:text-white hover:text-yellow-primary transition-colors duration-200"
							>
								{link.name}
							</a>
						</li>
					))}
				</ul>
			</div>

			<!-- Social -->
			<div>
				<h3 class="poppins font-bold text-lg mb-4 text-black dark:text-yellow-soft">Suivez-nous</h3>
				<ul class="space-y-2">
					{socialLinks.map((link) => (
						<li>
							<a
								href={link.url}
								target="_blank"
								rel="noopener noreferrer"
								class="poppins text-black dark:text-white hover:text-yellow-primary transition-colors duration-200"
							>
								{link.name}
							</a>
						</li>
					))}
				</ul>
			</div>
		</div>

		<!-- Divider -->
		<div class="border-t border-black/20 dark:border-white/20 my-8"></div>

		<!-- Bottom section -->
		<div class="flex flex-col md:flex-row justify-between items-center gap-4">
			<p class="poppins text-sm text-black dark:text-white">
				¬© {currentYear} Web'Ind√©. Tous droits r√©serv√©s.
			</p>
			<ul class="flex flex-wrap gap-4 justify-center">
				{legalLinks.map((link) => (
					<li>
						<a
							href={link.url}
							class="poppins text-sm text-black dark:text-white hover:text-yellow-primary transition-colors duration-200"
						>
							{link.name}
						</a>
					</li>
				))}
			</ul>
		</div>
	</div>
</footer>

<style>
	.backToTop.active {
		opacity: 1;
		cursor: pointer;
	}
	
	.backToTop:hover {
		transform: translateY(-2px);
	}
</style>

<script>
	document.addEventListener("astro:page-load", () => {
		const backToTop = document.querySelector(".backToTop");

		const toggleBackToTopButton = () => {
			if (window.scrollY > 250) {
				backToTop?.classList.add("active");
			} else {
				backToTop?.classList.remove("active");
			}
		};

		backToTop?.addEventListener("click", () => {
			window.scrollTo({
				top: 0,
				behavior: "smooth",
			});
		});

		window.addEventListener("scroll", toggleBackToTopButton);
	});
</script>
