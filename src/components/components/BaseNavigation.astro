---
import ThemeToggle from "./ThemeToggle.astro";
import colors from "../config/colors.json";
import { Breadcrumbs } from "astro-breadcrumbs";
import "astro-breadcrumbs/breadcrumbs.css";
import { Home, ChevronRight } from "lucide-astro";
import { breadcrumbsConfig } from "../../config/breadcrumbs";
import type {
	BaseNavigationProps,
	NavigationItem,
	SocialLink,
} from "../../utils/types/ui";

type Props = BaseNavigationProps;

const navigationItems: NavigationItem[] = [{ name: "Apps", url: "/apps" }];

const socialIcons: SocialLink[] = [
	{
		name: "YouTube",
		url: "https://www.youtube.com/@charbon",
		icon: "i-uil-youtube",
	},
	{
		name: "Twitter",
		url: "https://x.com/charbon",
		icon: "i-uil-twitter",
	},
	{
		name: "Instagram",
		url: "https://www.instagram.com/charbon",
		icon: "i-uil-instagram",
	},
	{
		name: "LinkedIn",
		url: "https://www.linkedin.com/company/charbon",
		icon: "i-uil-linkedin",
	},
	{
		name: "Facebook",
		url: "https://www.facebook.com/charbon",
		icon: "i-uil-facebook",
	},
	{ name: "RSS", url: "/feed.xml", icon: "i-uil-rss" },
];

const { pageTitle } = Astro.props;
---

<style define:vars={{ softWhite: '#fff6d2' }}>
	header {
		border-bottom: 4px solid black;
		background-color: rgb(255, 255, 255);
		position: sticky;
		top: 0;
		z-index: 40;
	}

	:global(.dark) header {
		border-color: var(--softWhite);
		background-color: rgb(0, 0, 0);
		color: var(--softWhite);
	}

	.mobile-link {
		color: black;
	}

	:global(.dark) .mobile-link {
		color: var(--softWhite);
	}

	:global(.breadcrumbs) {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		font-size: 0.9rem;
	}

	:global(.breadcrumbs a) {
		display: flex;
		align-items: center;
		color: inherit;
		text-decoration: none;
	}

	:global(.breadcrumbs a:hover) {
		color: var(--accent-color);
		text-decoration: underline;
	}
</style>

<header class="flex flex-col px-4 py-3 md:px-6 md:py-4">
	<div class="flex justify-between items-center">
		{pageTitle && <h1 class="hidden">{pageTitle}</h1>}
		<div class="flex items-center gap-4">
			<a href="/" title="Back to Home">
				<p class="righteous text-3xl md:text-5xl text-black dark:text-yellow-soft">CHARBON</p>
			</a>
			<Breadcrumbs {...breadcrumbsConfig}>
				<Home slot="home" class="w-5 h-5" />
				<ChevronRight slot="separator" class="w-4 h-4" />
			</Breadcrumbs>
		</div>
		<nav class="hidden md:inline-block">
			<h2 class="hidden">Navigation</h2>
			<ul class="flex gap-6 poppins items-center">
				{
					navigationItems.map((item) => (
						<li>
							<a
								class="text-lg font-medium hover:underline transition-all duration-150 ease-in-out"
								href={item.url}
								title={`Go to ${item.name}`}
							>
								{item.name}
							</a>
						</li>
					))
				}
				{
					socialIcons.map((item) => (
						<li>
							<a
								href={item.url}
								target="_blank"
								title={`'See @ElianCodes on ${item.name}`}
							>
								<div
									class:list={[item.icon, "w-6 h-6 md:w-7 md:h-7"]}
								/>
							</a>
						</li>
					))
				}
				<li>
					<ThemeToggle />
				</li>
			</ul>
		</nav>
		<nav class="md:hidden flex items-center gap-3">
			<h2 class="hidden">Mobile Navigation</h2>
			<ThemeToggle />
		</nav>
	</div>
</header>
